<div class="wrapper wrapper-content animated fadeInRight">
  <div class="row">
    <div class="col-lg-12">
      <div class="ibox ">
        <div class="ibox-title">
          <div class="row">
            <div class="col-10">
              <h5>Usuarios del Sistema</h5>
            </div>
            <div class="col-2">
              <%= link_to 'Añadir Usuario',new_admin_user_path, class: "btn btn-primary float-right" %>
            </div>
          </div>
        </div>
        <div class="ibox-content">
          <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover dataTables">
              <thead>
                <tr>
                  <th>Colaborador</th>
                  <th>Usuario</th>
                  <th>Último inicio de sesión</th>
                  <th>Estatus</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody>
                <% @users.each do |user| %>
                  <tr>
                    <td><%= user.nombre %> <%= user.apellido %></td>
                    <td><%= user.email %></td>
                    <td>
                      <center><%= user.last_sign_in_at != nil ? user.last_sign_in_at.strftime("%F %H:%M") : "No ha iniciado sesión" %></center>
                    </td>
                    <td><center><%= user.estado ? 'Activo' : 'Inactivo'%></center></td>
                    <td>
                      <%= render 'shared/action_buttons', show_route: [:admin, user], edit_route: edit_admin_user_path(user) %>
                    </td>
                  </tr>
                <% end %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Page-Level Scripts -->
<script>
  $(document).ready(function(){
    $('.dataTables').DataTable({
      pageLength: 25,
      responsive: true,
      language: {
                  processing:     "Procesando",
                  search:         "Buscar&nbsp;:",
                  lengthMenu:    "Mostrar _MENU_ registros",
                  info:           "Mostrando registros del Start al END de un tolal de _TOTAL_ registros",
                  infoEmpty:      "Affichage de l'&eacute;lement 0 &agrave; 0 sur 0 &eacute;l&eacute;ments",
                  infoFiltered:   "(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)",
                  infoPostFix:    "",
                  loadingRecords: "Chargement en cours...",
                  zeroRecords:    "Aucun &eacute;l&eacute;ment &agrave; afficher",
                  emptyTable:     "Aucune donnée disponible dans le tableau",
                  paginate: {
                      first:      "Primero",
                      previous:   "Anterior",
                      next:       "Sguiente",
                      last:       "Ultimo"
                  },
                  aria: {
                      sortAscending:  ": Activar para ordenar la columna de manera ascendente",
                      sortDescending: ": Activar para ordenar la columna de manera ascendente"
                  }
              }
    });
  });
</script>
