<div class="wrapper wrapper-content animated fadeInRight">
  <div class="row">
    <div class="col-lg-12">
      <div class="ibox ">
        <div class="ibox-title">
          <div class="row">
            <div class="col-10">
              <h5>Facturas Manuales</h5>
            </div>
            <div class="col-2">
              <%= link_to 'Añadir Factura', new_t_factura_path, data: { turbolinks: false }, class: 'btn btn-primary float-right' %>
            </div>
          </div>
        </div>
        <div class="ibox-content">
          <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover dataTables clickable" data-source="<%= t_facturas_path(format: :json) %>" id="ajax-datatable">
              <thead>
                <tr>
                  <th>No.</th>
                  <th>Cliente</th>
                  <th>Res / CIP</th>
                  <th>Fecha</th>
                  <th>F. Venc</th>
                  <th>Recargo</th>
                  <th>Total</th>
                  <th>Pendiente</th>
                  <!-- <th>Prosp.</th> -->
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="ibox ">
        <div class="ibox-title">
          <div class="row">
            <div class="col-10">
              <h5>Facturas Automáticas</h5>
            </div>
            <div class="col-2">
              <%= link_to 'Configurar Nueva Factura Automática', new_t_conf_fac_automatica_path, data: { turbolinks: false }, class: 'btn btn-primary float-right' %>
            </div>
          </div>
        </div>
        <div class="ibox-content">
          <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover dataTables clickable" data-source="<%= t_facturas_path(format: :json) %>" id="ajax-datatable2">
              <thead>
                <tr>
                  <th>No.</th>
                  <th>Cliente</th>
                  <th>Res / CIP</th>
                  <th>Fecha</th>
                  <th>F. Venc</th>
                  <th>Recargo</th>
                  <th>Total</th>
                  <th>Pendiente</th>
                  <th>Tp</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  $(document).ready(function () {
    $('#ajax-datatable2').DataTable({
      processing: true,
      serverSide: true,
      ajax: {
        url: $('#ajax-datatable2').data('source'),
        data: { automatica: true }
      },
      pagingType: 'full_numbers',
      columns: [
        <% @attributes_to_display.each do |attribute| %>
          {data: '<%= attribute.to_s %>'},
        <% end if @attributes_to_display %>
      ],

      pageLength: 25,
      responsive: true,
      language: {
        processing:     "Procesando...",
        search:         "Buscar&nbsp;:",
        lengthMenu:    "Mostrar _MENU_ registros",
        info:           "De _TOTAL_ registro(s) <br/> Se muestran del _START_ al _END_.",
        infoEmpty:      "No existen registros por mostrar",
        infoFiltered:   "No existen registros por mostrar",
        infoPostFix:    "",
        loadingRecords: "Cargando registros...",
        zeroRecords:    "",
        emptyTable:     "",
        paginate: {
          first:      "Primero",
          previous:   "Anterior",
          next:       "Siguiente",
          last:       "Último"
        },
        aria: {
          sortAscending:  ": Activar para ordenar la columna de manera ascendente",
          sortDescending: ": Activar para ordenar la columna de manera descendente"
        }
      }
    });
  });
</script>